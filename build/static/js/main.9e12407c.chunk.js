(this.webpackJsonpdashboardaa=this.webpackJsonpdashboardaa||[]).push([[0],{184:function(e,a,t){"use strict";(function(e){t.d(a,"a",(function(){return c})),t.d(a,"b",(function(){return s}));var n=t(28),l=t.n(n),o=t(292),r=-1,c=[];Object(o.encode)("".concat("AA_user",":").concat("ambrosiaAlertPass321")),e.from("".concat("AA_user",":").concat("ambrosiaAlertPass321"),"utf8").toString("base64");function i(e,a){l.a.get(e).then((function(e){for(var t=function(t){var n={uid:++r,first_name:e.data.data[t].first_name,last_name:e.data.data[t].last_name,address:e.data.data[t].address,phone:e.data.data[t].phone,email:e.data.data[t].email,type:a},l=!1;c.forEach((function(e){e.email!==n.email||(l=!0)})),l||c.push(n)},n=0;n<e.data.data.length;n++)t(n)})).catch((function(e){console.log(e)}))}function s(){i("https://ambrosiaalert.xyz/backend_code/api/volunteer/read.php","Volunteer"),i("https://ambrosiaalert.xyz/backend_code/api/new_volunteer/read.php","New Volunteer")}}).call(this,t(264).Buffer)},287:function(e,a,t){e.exports=t.p+"static/media/AmbrosiaAlertLogo.b3f1a137.png"},294:function(e,a,t){e.exports=t.p+"static/media/maps-icon.bd08424c.png"},295:function(e,a,t){e.exports=t.p+"static/media/vol-icon.46a32fe9.png"},296:function(e,a,t){e.exports=t.p+"static/media/AmbLogo.f185e34f.png"},312:function(e,a,t){e.exports=t(413)},317:function(e,a,t){},318:function(e,a,t){},319:function(e,a,t){},338:function(e,a,t){},362:function(e,a,t){},413:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),o=t(11),r=t.n(o),c=(t(317),t(38)),i=t(440),s=t(439),u=t(438),m=(t(318),t(287)),d=t.n(m),g=t(80),p=t(70),f=(t(319),t(288)),b=t.n(f),h=t(437),E=t(136),v=(t(338),t(184)),k=t(28),w=t.n(k);function C(e,a){w.a.post("https://ambrosiaalert.xyz/backend_cod/api/new_volunteer/validate.php",{email_volunteer:e[5],markers_action:a},{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"text/html","Access-Control-Allow-Headers":"Content-Type, Authorization, X-Requested-With,Accept","Access-Control-Allow-Credentials":"true","Access-Control-Max-Age":"1000"}}).then((function(e){return console.log(e.data.message)}))}var y=[];Object(v.b)();var F=Object(E.a)({overrides:{MUIDataTable:{responsiveScroll:{maxHeight:"none"}}}}),O=function(){y=v.a.map((function(e){return[e.uid,e.first_name,e.last_name,e.address,e.phone,e.email,e.type]}));var e={filterType:"dropdown",responsive:"scroll",onRowsDelete:function(e){e.data.forEach((function(e){C(y[e.dataIndex],"delete")}))}};return l.a.createElement(h.a,{theme:F},l.a.createElement(b.a,{className:"table",title:"List of Volunteers",data:y,columns:["UID","First Name","Last Name","Address","Phone","Email","Type"],options:e}))},_=t(303),j=t(43);var S=function(e){var a=e.panTo;return l.a.createElement("button",{className:"locate",onClick:function(){navigator.geolocation.getCurrentPosition((function(e){a({lat:e.coords.latitude,lng:e.coords.longitude})}),(function(){return null}))}})};t(361),t(362);function A(e,a,t,n){for(var l=function(e){return e.toFixed(10)},o=0;o<n.length;o++)l(parseFloat(n[o].lat))===e&&l(parseFloat(n[o].lng))===a&&n.splice(o,1);var r={latitude:e.toString(),longitude:a.toString()};w.a.delete(t,{data:r}).then((function(e){return console.log(e," a fost sters")})),console.log(e,a)}function N(e,a){w.a.get(e,{headers:{"X-User-id":"6991","X-User-hash":"49b776d3689ddddb5535e3920a17083b"}}).then((function(e){console.log(e.data);for(var t=function(t){var n={lng:parseFloat(e.data[t].longitude),lat:parseFloat(e.data[t].latitude),id:e.data[t].id},l=!1;a.forEach((function(e){e.lng!==n.lng||e.lat!==n.lat||(l=!0)})),l||a.push(n)},n=0;n<e.data.length;n++)t(n);console.log(a)}))}var x=t(57);function z(e,a,t,n){w.a.post(t,{longitude:a,latitude:e,radius:n}).then(console.log("LATLONG"))}var L=t(302),M=[{value:-1,label:"None"},{value:0,label:"Place Markers"},{value:1,label:"Place Zone"}],P=-1;function T(){var e=Object(n.useState)(-1),a=Object(c.a)(e,2),t=a[0],o=a[1];return l.a.createElement("div",{className:"dropDown1"},l.a.createElement(L.a,{value:t,onChange:function(e){o(e),P=e,console.log("Option selected:",e),console.log("OPT: "+P.value)},options:M,placeholder:"Options"}))}var I=t(293),B=[{id:0,name:"Red"},{id:1,name:"Blue"},{id:2,name:"Yellow"},{id:3,name:"Grey"},{id:4,name:"Zone"},{id:5,name:"Heatmap"}],R=[];function G(){var e=Object(n.useState)(B),a=Object(c.a)(e,2),t=a[0];a[1];return l.a.createElement("div",{className:"checkbox1"},l.a.createElement(I.Multiselect,{options:t,displayValue:"name",placeholder:"Select the markers",onSelect:function(e){R=e,console.log(R)},onRemove:function(e){R=e}}))}var V="https://ambrosiaalert.xyz/backend_code/api/red_marker/create.php",D="https://ambrosiaalert.xyz/backend_code/api/red_marker/read.php",U="https://ambrosiaalert.xyz/backend_code/api/red_marker/delete.php",H="https://ambrosiaalert.xyz/backend_code/api/blue_marker/read.php",W="https://ambrosiaalert.xyz/backend_code/api/grey_marker/create.php",X="https://ambrosiaalert.xyz/backend_code/api/grey_marker/read.php",Z="https://ambrosiaalert.xyz/backend_code/api/grey_marker/delete.php",J="https://ambrosiaalert.xyz/backend_code/api/yellow_marker/read.php",Y="https://ambrosiaalert.xyz/backend_code/api/yellow_marker/delete.php",q=[],$=[],K=[],Q=[],ee=[],ae=[],te=[],ne={lat:45.760696,lng:21.226788};var le=l.a.memo((function(){var e=function(e){return e.toFixed(10)},a=Object(n.useState)(null),t=Object(c.a)(a,2),o=t[0],r=t[1],i=Object(n.useState)(null),s=Object(c.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(null),g=Object(c.a)(d,2),p=g[0],f=g[1],b=Object(n.useState)(null),h=Object(c.a)(b,2),E=h[0],v=h[1],k=Object(n.useState)(null),w=Object(c.a)(k,2),C=w[0],y=w[1],F=Object(n.useState)(0),O=Object(c.a)(F,2),L=(O[0],O[1]),M=0,T=0,I=0,B=0;Object(n.useEffect)((function(){R.forEach((function(e){0===e.id&&Object(x.a)(D,M,q),1===e.id&&Object(x.a)(H,T,$),2===e.id&&Object(x.a)(J,B,K),3===e.id&&Object(x.a)(X,I,Q),4===e.id&&Object(x.a)(D,0,ee),5===e.id&&(N("http://data.uradmonitor.com/api/v1/devices",ae),te=ae.map((function(e){return new window.google.maps.LatLng(parseFloat(e.lat),parseFloat(e.lng))})))})),function e(){var a=!1;R.forEach((function(e){0===e.id&&Object(x.a)(D,M,q),1===e.id&&Object(x.a)(H,T,$),2===e.id&&Object(x.a)(J,B,K),3===e.id&&Object(x.a)(X,I,Q),4===e.id&&Object(x.a)(D,0,ee),5===e.id&&(N("http://data.uradmonitor.com/api/v1/devices",ae),te=ae.map((function(e){return new window.google.maps.LatLng(parseFloat(e.lat),parseFloat(e.lng))})),a=!0),5!==e.id&&!1===a&&(te=[],L(R.length+Math.random()))})),L(R.length+Math.random()),setTimeout(e,1e3)}()}),[]);var G=l.a.useCallback((function(e){if(0===P.value){M++;var a={lat:e.latLng.lat(),lng:e.latLng.lng(),id:M,radius:50},t=!1;q.forEach((function(e){e.lng!==a.lng||e.lat!==a.lat||(t=!0)})),t||q.push(a),z(e.latLng.lat(),e.latLng.lng(),V,50)}if(1===P.value){M++;var n={lat:e.latLng.lat(),lng:e.latLng.lng(),id:M,radius:5e4};ee.push(n),z(e.latLng.lat(),e.latLng.lng(),V,5e3)}}),[M]),le=l.a.useRef(),oe=l.a.useCallback((function(e){le.current=e}),[]),re=l.a.useCallback((function(e){var a=e.lat,t=e.lng;le.current.panTo({lat:a,lng:t}),le.current.setZoom(14)}),[]);return l.a.createElement("div",null,l.a.createElement(j.b,{id:"map",mapContainerStyle:{width:"relative",height:"100%",position:"absolute",top:"0",right:"0",left:"160px"},center:ne,zoom:10,onClick:G,onLoad:oe},l.a.createElement(j.c,{data:Object(_.a)(te)}),l.a.createElement(S,{panTo:re}),R.map((function(e){return 4===e.id&&ee.map((function(e){return e.radius>50&&l.a.createElement(j.a,{center:{lat:parseFloat(e.lat),lng:parseFloat(e.lng)},radius:e.radius,options:{fillColor:"#FF0000",strokeColor:"#8B0000"},onClick:function(){y(e),console.log("radius zone:"+e.radius)}})}))})),C?l.a.createElement(j.d,{position:{lat:C.lat+3e-4,lng:C.lng},onCloseClick:function(){y(null)}},l.a.createElement("div",null,l.a.createElement("h2",null," Ambrosia ",l.a.createElement("br",null),"on ",l.a.createElement("br",null),3.14*C.radius," m",l.a.createElement("sup",null,"2"),"!"),l.a.createElement("button",{className:"remove-marker",onClick:function(){console.log("deleted"),A(e(parseFloat(C.lat)),e(parseFloat(C.lng)),U,"zone"),y(null)}},"Remove"),l.a.createElement("button",{className:"transform-marker",onClick:function(){console.log("transformat in gri");var a={lat:C.lat,lng:C.lng,id:I},t=!1;Q.forEach((function(e){e.lng!==a.lng||e.lat!==a.lat||(t=!0)})),t||Q.push(a),z(C.lat,C.lng,W,null),A(e(parseFloat(C.lat)),e(parseFloat(C.lng)),U,"zone"),y(null)}},"Eradicated"))):null,R.map((function(e){return 0===e.id&&q.map((function(e){return M++,e.radius<=50&&l.a.createElement(j.e,{key:M,position:{lat:parseFloat(e.lat),lng:parseFloat(e.lng)},icon:{url:"https://raw.githubusercontent.com/Concept211/Google-Maps-Markers/master/images/marker_redA.png",scaledSize:new window.google.maps.Size(25,43)},onClick:function(){r(e),console.log("radius red:"+e.radius)}})}))})),o?l.a.createElement(j.d,{position:{lat:o.lat+3e-4,lng:o.lng},onCloseClick:function(){r(null)}},l.a.createElement("div",null,l.a.createElement("h2",null," Ambrosia!"),l.a.createElement("button",{className:"remove-marker",onClick:function(){console.log("deleted"),A(e(parseFloat(o.lat)),e(parseFloat(o.lng)),U,q),r(null)}},"Remove"),l.a.createElement("button",{className:"transform-marker",onClick:function(){console.log("transformat in gri");var a={lat:o.lat,lng:o.lng,id:I},t=!1;Q.forEach((function(e){e.lng!==a.lng||e.lat!==a.lat||(t=!0)})),t||Q.push(a),z(o.lat,o.lng,W,null),A(e(parseFloat(o.lat)),e(parseFloat(o.lng)),U,q),r(null)}},"Eradicated"))):null,R.map((function(e){return 1===e.id&&$.map((function(e){return T++,l.a.createElement(j.e,{key:T,position:{lat:parseFloat(e.lat),lng:parseFloat(e.lng)},icon:{url:"https://raw.githubusercontent.com/Concept211/Google-Maps-Markers/master/images/marker_blueA.png",scaledSize:new window.google.maps.Size(25,43)},onClick:function(){m(e),console.log("id blue:"+e.id)}})}))})),u?l.a.createElement(j.d,{position:{lat:u.lat+3e-4,lng:u.lng},onCloseClick:function(){m(null)}},l.a.createElement("div",null,l.a.createElement("h2",null," Possibile ",l.a.createElement("br",null)," Ambrosia!"),l.a.createElement("button",{className:"removeBlue-marker",onClick:function(){console.log("deleted"),A(e(parseFloat(u.lat)),e(parseFloat(u.lng)),"https://ambrosiaalert.xyz/backend_code/api/blue_marker/delete.php",$),m(null)}},"Remove"))):null,R.map((function(e){return 3===e.id&&Q.map((function(e){return I++,l.a.createElement(j.e,{key:I,position:{lat:parseFloat(e.lat),lng:parseFloat(e.lng)},icon:{url:"https://raw.githubusercontent.com/Concept211/Google-Maps-Markers/master/images/marker_greyA.png",scaledSize:new window.google.maps.Size(25,43)},onClick:function(){f(e),console.log("id grey:"+e.lat)}})}))})),p?l.a.createElement(j.d,{position:{lat:p.lat+3e-4,lng:p.lng},onCloseClick:function(){f(null)}},l.a.createElement("div",null,l.a.createElement("h2",null," There was ",l.a.createElement("br",null)," Ambrosia!"),l.a.createElement("button",{className:"removeGrey-marker",onClick:function(){console.log("deleted"),A(e(parseFloat(p.lat)),e(parseFloat(p.lng)),Z,Q),f(null)}},"Remove"),l.a.createElement("button",{className:"forSure-marker",onClick:function(){console.log("transformat in gri");var a={lat:p.lat,lng:p.lng,id:M},t=!1;q.forEach((function(e){e.lng!==a.lng||e.lat!==a.lat||(t=!0)})),t||q.push(a),z(p.lat,p.lng,V,50),A(e(parseFloat(p.lat)),e(parseFloat(p.lng)),Z,Q),f(null)}},"reappeared"))):null,R.map((function(e){return 2===e.id&&K.map((function(e){return B++,l.a.createElement(j.e,{key:B,icon:{url:"https://raw.githubusercontent.com/Concept211/Google-Maps-Markers/master/images/marker_yellowA.png",scaledSize:new window.google.maps.Size(25,43)},position:{lat:parseFloat(e.lat),lng:parseFloat(e.lng)},onClick:function(){v(e),console.log("id yellow"+e.lat)}})}))})),E?l.a.createElement(j.d,{position:{lat:E.lat+3e-4,lng:E.lng},onCloseClick:function(){v(null)}},l.a.createElement("div",null,l.a.createElement("h2",null," Possible ",l.a.createElement("br",null)," Ambrosia! "),l.a.createElement("button",{className:"removeYellow-marker",onClick:function(){console.log("deleted"),A(e(parseFloat(E.lat)),e(parseFloat(E.lng)),Y,K),v(null)}},"Remove"),l.a.createElement("button",{className:"forSure-marker",onClick:function(){console.log("transformat in rosu");var a={lat:E.lat,lng:E.lng,id:M},t=!1;q.forEach((function(e){e.lng!==a.lng||e.lat!==a.lat||(t=!0)})),t||q.push(a),z(E.lat,E.lng,V,50),A(e(parseFloat(E.lat)),e(parseFloat(E.lng)),Y,K),v(null)}},"For sure!"))):null,"}"))})),oe=t(294),re=t.n(oe),ce=t(295),ie=t.n(ce),se=t(296),ue=t.n(se),me=t(259),de=t(4),ge=t(248),pe="login successful",fe=Object(de.a)((function(e){return{root:{color:e.palette.getContrastText("#2b313d"),backgroundColor:"#2b313d","&:hover":{backgroundColor:"#1fb299"}}}}))(me.a),be=Object(ge.a)((function(e){return{margin:{margin:e.spacing(1)}}})),he=Object(E.a)({palette:{primary:{main:"#0062cc"}}}),Ee=function(){var e=be();return console.log(pe),l.a.createElement(g.a,null,l.a.createElement("div",{style:{flex:1,padding:"10px"}},l.a.createElement(p.d,null,l.a.createElement(p.b,{path:"/",exact:!0,component:le}),l.a.createElement(p.b,{path:"/Maps",component:le}),l.a.createElement(p.b,{path:"/Volunteers",component:O}),l.a.createElement(p.b,{path:"/Login",component:ve}))),l.a.createElement("div",{className:"PanelPos"},l.a.createElement("div",{className:"Panel"},l.a.createElement("div",{className:"ambrosia-title"},l.a.createElement("img",{className:"logo",src:ue.a,alt:"logoAmb"}),"Ambrosia Alert"),l.a.createElement("ul",{style:{listStyleType:"none",padding:0}},l.a.createElement("li",null,l.a.createElement("div",{className:"b"},l.a.createElement("img",{className:"maps-icon",src:re.a,alt:"mapsIcon"}),l.a.createElement(g.b,{to:"/Maps"}," Maps"))),l.a.createElement("li",null,l.a.createElement("div",{className:"b"},l.a.createElement("img",{className:"vol-icon",src:ie.a,alt:"volIcon"}),l.a.createElement(g.b,{to:"/Volunteers"}," Volunteers"))),l.a.createElement("li",null,l.a.createElement(G,null)),l.a.createElement("li",null,l.a.createElement(T,null))),l.a.createElement("div",{className:"signOutBorder"},l.a.createElement(h.a,{theme:he},l.a.createElement(fe,{variant:"outlined",className:e.margin,onClick:function(){localStorage.setItem("logged","unregistered"),pe=localStorage.getItem("logged"),g.a,p.d,p.a,p.b}},l.a.createElement(g.b,{style:{color:"white"},to:"/Login"},"Log Out")))))))};function ve(){var e=Object(n.useState)(""),a=Object(c.a)(e,2),t=a[0],o=a[1],r=Object(n.useState)(""),m=Object(c.a)(r,2),g=m[0],p=m[1],f=Object(n.useState)(""),b=Object(c.a)(f,2),h=b[0],E=b[1];return"login successful"===h?(localStorage.setItem("logged",h),l.a.createElement(Ee,null)):l.a.createElement("div",{className:"PageFrame"},l.a.createElement("div",{className:"Login"},l.a.createElement("form",{className:"Form",onSubmit:function(e){e.preventDefault()}},l.a.createElement("img",{className:"LogoImage",src:d.a,alt:"Logo"}),l.a.createElement("h1",{className:"LoginText"},"Member Login"),l.a.createElement(i.a,{controlId:"email",bsSize:"large"},l.a.createElement(s.a,{className:"EmailBox",type:"email",value:t,placeholder:"Email",onChange:function(e){return o(e.target.value)}})),l.a.createElement(i.a,{controlId:"password",bsSize:"large"},l.a.createElement(s.a,{className:"PasswordBox",value:g,placeholder:"Password",onChange:function(e){return p(e.target.value)},type:"password"})),l.a.createElement(u.a,{className:"LoginBtn",block:!0,bsSize:"large",disabled:!(t.length>0&&g.length>0),type:"submit",onClick:function(){w.a.post("https://ambrosiaalert.xyz/backend_code/api/admins/login.php",{name:t,password:g}).then((function(e){E(e.data.message),console.log(h)})),"admin123@gmail.com"===t&&"123"===g&&E("login successful")}},"Login"))))}var ke=function(){var e=localStorage.getItem("logged");return"login successful"===e?(console.log(e),l.a.createElement(Ee,null)):l.a.createElement(ve,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},57:function(e,a,t){"use strict";(function(e){t.d(a,"a",(function(){return o}));var n=t(28),l=t.n(n);e.from("".concat("AA_user",":").concat("ambrosiaAlertPass321"),"utf8").toString("base64");function o(e,a,t){l.a.get(e).then((function(e){for(var a=function(a){a;var n={lng:parseFloat(e.data.data[a].longitude),lat:parseFloat(e.data.data[a].latitude),id:a,radius:parseFloat(e.data.data[a].radius)},l=!1;t.forEach((function(e){e.lng!==n.lng||e.lat!==n.lat||(l=!0)})),l||t.push(n)},n=0;n<e.data.data.length;n++)a(n);console.log(t)}))}}).call(this,t(264).Buffer)}},[[312,1,2]]]);
//# sourceMappingURL=main.9e12407c.chunk.js.map